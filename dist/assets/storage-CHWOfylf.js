import{c as K,M as R,a as j,B as Y,b as G,X as q,A as V,C as $,d as W,e as X,f as Q,g as Z,F as tt,P as et,G as ot,T as nt,E as rt,h as at,i as st,j as it,U as ct,D as lt,k as ut,l as dt,m as ft,n as gt,o as mt,p as yt,K as pt,q as ht}from"./vendor-Dbh21kxK.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}})();const St={SquareKanban:ht,Kanban:pt,Search:yt,Plus:mt,Settings:gt,Columns3:ft,Tag:dt,SlidersHorizontal:ut,Download:lt,Upload:ct,Moon:it,Sun:st,HelpCircle:at,EllipsisVertical:rt,Trash2:nt,GripVertical:ot,Pencil:et,Fullscreen:tt,ChartColumn:Z,ChevronDown:Q,ChevronLeft:X,ChevronRight:W,ChevronsRightLeft:$,ArrowUpDown:V,X:q,Bell:G,BellRing:Y,Maximize2:j,Minimize2:R};function Dt(){K({icons:St})}Dt();function f(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}const U="kanbanBoards",h="kanbanActiveBoardId",bt="kanbanColumns",It="kanbanTasks",xt="kanbanLabels",l="default",D=new Map;function O(){return new Date().toISOString()}function i(t,e){return`kanbanBoard:${t}:${e}`}function g(t){if(!t)return null;try{const e=JSON.parse(t);return Array.isArray(e)?e:null}catch{return null}}function At(t){if(!t)return null;try{const e=JSON.parse(t);return e&&typeof e=="object"&&!Array.isArray(e)?e:null}catch{return null}}function m(){const t=g(localStorage.getItem(U));return t?t.filter(e=>e&&typeof e.id=="string").map(e=>({id:e.id,name:typeof e.name=="string"?e.name:"Untitled board",createdAt:typeof e.createdAt=="string"?e.createdAt:void 0})):[]}function Ct(t){const e=typeof t=="string"?t:"";return e&&m().find(o=>o.id===e)||null}function kt(){const t=d(),e=t?Ct(t):null;return(typeof e?.name=="string"?e.name.trim():"")||"Untitled board"}function w(t){localStorage.setItem(U,JSON.stringify(t))}function d(){const t=localStorage.getItem(h),e=m();return t&&e.some(o=>o.id===t)?t:e[0]?.id||null}function Ot(t){const e=typeof t=="string"?t:"";!e||!m().some(r=>r.id===e)||localStorage.setItem(h,e)}function N(){return[{id:"todo",name:"To Do",color:"#3583ff"},{id:"inprogress",name:"In Progress",color:"#f59e0b"},{id:"done",name:"Done",color:"#16a34a"}]}function L(){return[{id:"urgent",name:"Urgent",color:"#ef4444",group:""},{id:"feature",name:"Feature",color:"#3b82f6",group:""},{id:"task",name:"Task",color:"#f59e0b",group:""}]}function _(){const t=O();return[{id:f(),title:"Find out where the Soul Stone is",description:"Identify current location and access requirements.",priority:"high",dueDate:"",column:"todo",labels:["urgent"],creationDate:t,changeDate:t,columnHistory:[{column:"todo",at:t}]},{id:f(),title:"Steal the Time Stone",description:"Coordinate with Dr. Strange and plan retrieval.",priority:"urgent",dueDate:"",column:"inprogress",labels:["feature"],creationDate:t,changeDate:t,columnHistory:[{column:"inprogress",at:t}]},{id:f(),title:"Collect the Mind Stone",description:"Determine safe extraction approach.",priority:"medium",dueDate:"",column:"inprogress",labels:[],creationDate:t,changeDate:t,columnHistory:[{column:"inprogress",at:t}]},{id:f(),title:"Hide the Reality Stone",description:"Dig a deep hole to hide the stone from the Collector, avoid escalation.",priority:"low",dueDate:"",column:"inprogress",labels:["task"],creationDate:t,changeDate:t,columnHistory:[{column:"inprogress",at:t}]},{id:f(),title:"Find a bag for stones",description:"A bag with good durability and space is needed to hold all the stones securely.",priority:"none",dueDate:"",column:"inprogress",labels:["task"],creationDate:t,changeDate:t,columnHistory:[{column:"inprogress",at:t}]},{id:f(),title:"Collect the Power Stone",description:"Verify secure containment after retrieval.",priority:"high",dueDate:"",column:"done",labels:["urgent","feature"],creationDate:t,changeDate:t,doneDate:t,columnHistory:[{column:"done",at:t}]},{id:f(),title:"Collect the Space Stone",description:"",priority:"low",dueDate:"",column:"done",labels:[],creationDate:t,changeDate:t,doneDate:t,columnHistory:[{column:"done",at:t}]}]}function v(){return{showPriority:!0,showDueDate:!0,showAge:!0,showChangeDate:!0,locale:typeof navigator<"u"&&typeof navigator.language=="string"?navigator.language:"en-US",defaultPriority:"none",notificationDays:3}}const wt=new Set(["urgent","high","medium","low","none"]);function z(t){const e=(t||"").toString().trim().toLowerCase();return wt.has(e)?e:"none"}function vt(){const t=g(localStorage.getItem(bt)),e=g(localStorage.getItem(It)),o=g(localStorage.getItem(xt)),r=!!(t||e||o),n=[{id:l,name:"Default Board",createdAt:O()}];return w(n),localStorage.setItem(h,l),localStorage.setItem(i(l,"columns"),JSON.stringify(t||N())),localStorage.setItem(i(l,"tasks"),JSON.stringify(e||_())),localStorage.setItem(i(l,"labels"),JSON.stringify(o||L())),localStorage.setItem(i(l,"settings"),JSON.stringify(v())),r}function u(){const t=m();if(t.length>0){d()||Ot(t[0].id);return}vt()}function Pt(t){u();const o=(typeof t=="string"?t.trim():"")||"Untitled board",r=m(),n=`board-${f()}`,a={id:n,name:o,createdAt:O()};return w([...r,a]),localStorage.setItem(i(n,"columns"),JSON.stringify(N())),localStorage.setItem(i(n,"tasks"),JSON.stringify([])),localStorage.setItem(i(n,"labels"),JSON.stringify(L())),localStorage.setItem(i(n,"settings"),JSON.stringify(v())),localStorage.setItem(h,n),a}function Jt(t,e){u();const o=typeof t=="string"?t:"",r=typeof e=="string"?e.trim():"";if(!o||!r)return!1;const n=m();if(!n.some(c=>c.id===o))return!1;const a=n.map(c=>c.id===o?{...c,name:r}:c);return w(a),!0}function Ht(t){u();const e=typeof t=="string"?t:"";if(!e)return!1;const o=m();if(!o.some(a=>a.id===e)||o.length<=1)return!1;const r=o.filter(a=>a.id!==e);return w(r),localStorage.removeItem(i(e,"columns")),localStorage.removeItem(i(e,"tasks")),localStorage.removeItem(i(e,"labels")),localStorage.removeItem(i(e,"settings")),D.delete(e),localStorage.getItem(h)===e&&localStorage.setItem(h,r[0].id),!0}function Bt(t){return typeof t=="string"&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(t.trim())}function Nt(t){return t==="todo"?"#3b82f6":t==="inprogress"?"#f59e0b":t==="done"?"#16a34a":"#3b82f6"}function T(t){const e=Bt(t?.color)?t.color.trim():Nt(t?.id),o=t?.collapsed===!0;return{...t,color:e,collapsed:o}}function M(t){const e=Array.isArray(t)?t.slice():[];if(e.some(r=>r&&r.id==="done"))return e;const o=e.reduce((r,n)=>Math.max(r,Number.isFinite(n?.order)?n.order:0),0);return e.push({id:"done",name:"Done",color:"#16a34a",order:o+1,collapsed:!1}),e}function Et(){u();const t=d()||l,e=localStorage.getItem(i(t,"columns")),o=g(e);if(o){const r=M(o.map(T));return(!r.some(n=>n&&n.id==="done")||r.length!==o.length)&&localStorage.setItem(i(t,"columns"),JSON.stringify(r)),r}return M(N().map(T))}function Tt(t){u();const e=d()||l;localStorage.setItem(i(e,"columns"),JSON.stringify(t))}function Mt(){u();const t=d()||l,e=localStorage.getItem(i(t,"tasks")),o=g(e);if(o){let a=!1;const c=o.map(y=>{const s=y&&typeof y=="object"?{...y}:y;if(!s||typeof s!="object")return s;const S=z(s.priority);s.priority!==S&&(s.priority=S,a=!0);const b=s.column==="done",k=typeof s.doneDate=="string"&&s.doneDate.trim()!=="",B=typeof s.changeDate=="string"&&s.changeDate.trim()?s.changeDate.trim():"",P=typeof s.creationDate=="string"&&s.creationDate.trim()?s.creationDate.trim():"";if(b&&!k){const p=B||P;p&&(s.doneDate=p,a=!0)}!b&&k&&(delete s.doneDate,a=!0);const J=s.columnHistory,I=Array.isArray(J)?J:null,x=B||P||O(),A=typeof s.column=="string"?s.column.trim():"";if(!I||I.length===0)x&&A&&(s.columnHistory=[{column:A,at:x}],a=!0);else{const p=I.map(C=>{const H=typeof C?.column=="string"?C.column.trim():"",E=typeof C?.at=="string"?C.at.trim():"";return!H||!E?null:{column:H,at:E}}).filter(Boolean);p.length===0?x&&A&&(s.columnHistory=[{column:A,at:x}],a=!0):p.length!==I.length&&(s.columnHistory=p,a=!0)}return s});return a&&localStorage.setItem(i(t,"tasks"),JSON.stringify(c)),D.set(t,c),c}const r=D.get(t);if(Array.isArray(r))return r;const n=_();return D.set(t,n),n}function Ut(t){u();const e=d()||l;localStorage.setItem(i(e,"tasks"),JSON.stringify(t)),D.set(e,t)}function _t(){u();const t=d()||l,e=localStorage.getItem(i(t,"labels")),o=g(e);return o?o.map(r=>({...r,group:typeof r.group=="string"?r.group:""})):L()}function zt(t){u();const e=d()||l;localStorage.setItem(i(e,"labels"),JSON.stringify(t))}function F(t){const e=t&&typeof t=="object"?t:{},o=typeof e.locale=="string"&&e.locale.trim()?e.locale.trim():v().locale,r=e.showPriority!==!1,n=e.showDueDate!==!1,a=e.showAge!==!1,c=e.showChangeDate!==!1,y=(e.defaultPriority||"").toString().trim().toLowerCase(),s=z(y),S=Number.parseInt((e.notificationDays??"").toString(),10),b=Number.isFinite(S)?Math.min(365,Math.max(0,S)):3;return{showPriority:r,showDueDate:n,showAge:a,showChangeDate:c,locale:o,defaultPriority:s,notificationDays:b}}function Ft(){u();const t=d()||l,e=localStorage.getItem(i(t,"settings")),o=At(e);if(o)return F(o);const r=v();return localStorage.setItem(i(t,"settings"),JSON.stringify(r)),r}function Kt(t){u();const e=d()||l,o=F(t);localStorage.setItem(i(e,"settings"),JSON.stringify(o))}export{Et as a,Tt as b,_t as c,zt as d,Ft as e,kt as f,f as g,Pt as h,Ot as i,Kt as j,m as k,Mt as l,u as m,d as n,Ht as o,Jt as p,Dt as r,Ut as s};
